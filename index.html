<!DOCTYPE html>
<html>
<head>
  <title>Deeplink Test</title>
  <!-- Load CryptoJS library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</head>
<body>

  <h1>Deeplink Test</h1>

  <button id="deeplinkButton">Open App</button>

  <script>
    const deeplinkButton = document.getElementById('deeplinkButton');

    deeplinkButton.addEventListener('click', () => {
      const urlVideo = "https://dr-taha.s3.us-east-1.amazonaws.com/Week+4+E2.mp4/out.mpd";
      const studentId = "15";
      
      // Encrypt data using a symmetric key (shared secret)
      const secretKey = "b2df428b9929d3ace7c598bbf4e496b2"; // Replace with a secure key
      const encryptedData = CryptoJS.AES.encrypt(JSON.stringify({ url_video: urlVideo, student_id: studentId }), secretKey).toString();

      // Construct the deep link with encrypted data
      const deeplinkUrl = `https://easyplayer/details?data=${encodeURIComponent(encryptedData)}`;

      // Redirect to the deep link
      window.location.href = deeplinkUrl;
    });
  </script>

</body>
</html>

